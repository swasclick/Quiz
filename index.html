<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
            color: #f3f4f6; /* text-gray-100 */
            display: grid;
            place-items: center;
            min-height: 100vh;
            padding: 1rem;
            /* Adding a subtle gradient background */
            background-image: radial-gradient(circle at 1% 1%, rgba(55, 65, 81, 0.4) 0%, rgba(17, 24, 39, 0) 25%),
                              radial-gradient(circle at 99% 99%, rgba(55, 48, 163, 0.3) 0%, rgba(17, 24, 39, 0) 25%);
        }

        /* Glassmorphism class */
        .glass {
            background: rgba(31, 41, 55, 0.6); /* bg-gray-800 with opacity */
            backdrop-filter: blur(12px) saturate(150%);
            -webkit-backdrop-filter: blur(12px) saturate(150%);
            border-radius: 1rem; /* rounded-2xl */
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Custom styled radio button */
        .radio-label {
            background-color: rgba(55, 65, 81, 0.7); /* bg-gray-700 with opacity */
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem; /* rounded-xl */
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-label:hover {
            background-color: rgba(75, 85, 99, 0.8); /* bg-gray-600 with opacity */
        }
        
        /* Style for when radio is checked */
        input[type="radio"]:checked + .radio-label {
            background-color: rgba(59, 130, 246, 0.7); /* bg-blue-600 with opacity */
            border-color: rgba(59, 130, 246, 0.9);
            color: #ffffff;
            font-weight: 500;
        }

        /* Hide the actual radio button */
        input[type="radio"] {
            display: none;
        }

        /* Button styles */
        .btn {
            background: rgba(59, 130, 246, 0.7); /* bg-blue-600 with opacity */
            border: 1px solid rgba(59, 130, 246, 0.9);
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: rgba(37, 99, 235, 0.8); /* bg-blue-700 with opacity */
        }
        .btn:disabled {
            background: rgba(75, 85, 99, 0.5); /* bg-gray-600 with opacity */
            border-color: rgba(75, 85, 99, 0.7);
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: rgba(75, 85, 99, 0.7); /* bg-gray-600 with opacity */
            border: 1px solid rgba(75, 85, 99, 0.9);
        }
        .btn-secondary:hover {
            background: rgba(55, 65, 81, 0.8); /* bg-gray-700 with opacity */
        }
        
        .btn-submit {
             background: rgba(22, 163, 74, 0.7); /* bg-green-600 with opacity */
            border: 1px solid rgba(22, 163, 74, 0.9);
        }
        .btn-submit:hover {
            background: rgba(21, 128, 61, 0.8); /* bg-green-700 with opacity */
        }
        
        /* Utility class to hide elements */
        .hidden {
            display: none;
        }
        
        /* Solution styles */
        .solution-correct {
            border-left: 4px solid #16a34a; /* border-green-600 */
            background-color: rgba(22, 163, 74, 0.1);
        }
        
        .solution-incorrect {
            border-left: 4px solid #dc2626; /* border-red-600 */
            background-color: rgba(220, 38, 38, 0.1);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Main App Container -->
    <div id="app" class="w-full max-w-2xl">
    
        <!-- Quiz Container -->
        <div id="quiz-container" class="glass w-full p-6 md:p-8 rounded-2xl">
            <h1 class="text-3xl font-bold text-center mb-6 text-white">QUIZ</h1>
            
            <!-- Question Area -->
            <div id="question-area" class="mb-6">
                <div class="text-xl md:text-2xl font-semibold text-gray-100 mb-2" id="question-number">Question 1/10</div>
                <p class="text-lg md:text-xl text-gray-200" id="question-text">Loading question...</p>
            </div>
            
            <!-- Options Area -->
            <div id="options-area" class="space-y-4 mb-8">
                <!-- Options will be dynamically inserted here -->
            </div>
            
            <!-- Navigation Buttons -->
            <div class="flex justify-between items-center">
                <button id="prev-btn" class="btn-secondary text-white font-semibold py-2 px-5 rounded-lg">
                    Previous
                </button>
                <button id="next-btn" class="btn text-white font-semibold py-2 px-5 rounded-lg">
                    Next
                </button>
                <button id="submit-btn" class="btn-submit hidden text-white font-bold py-2 px-5 rounded-lg">
                    Submit
                </button>
            </div>
        </div>
        
        <!-- Results Container -->
        <div id="results-container" class="glass hidden w-full p-6 md:p-8 rounded-2xl">
            <h2 class="text-3xl font-bold text-center mb-4 text-white">Quiz Completed!</h2>
            <p id="score-text" class="text-2xl text-center font-semibold mb-6 text-blue-300">Your Score: 0 / 0</p>
            
            <h3 class="text-2xl font-semibold mb-4 text-white">Solutions Review</h3>
            <div id="solutions-area" class="space-y-6 max-h-96 overflow-y-auto pr-2">
                <!-- Solutions will be dynamically inserted here -->
            </div>
            
            <button id="download-btn" class="btn w-full mt-8 text-white font-bold py-3 px-5 rounded-lg">
                Download Results
            </button>
        </div>
        
    </div>

    <script>
        // --- EDIT YOUR QUESTIONS HERE ---
        const questions = [
            {
                question: "What is the capital of France?",
                options: ["Berlin", "Madrid", "Paris", "Rome"],
                answer: "Paris"
            },
            {
                question: "Which planet is known as the Red Planet?",
                options: ["Earth", "Mars", "Jupiter", "Venus"],
                answer: "Mars"
            },
            {
                question: "What is the largest ocean on Earth?",
                options: ["Atlantic Ocean", "Indian Ocean", "Arctic Ocean", "Pacific Ocean"],
                answer: "Pacific Ocean"
            },
            {
                question: "What is 2 + 2 * 2?",
                options: ["8", "6", "4", "2"],
                answer: "6"
            },
            {
                question: "Who wrote 'Hamlet'?",
                options: ["Charles Dickens", "William Shakespeare", "Leo Tolstoy", "Mark Twain"],
                answer: "William Shakespeare"
            }
        ];
        // --- END OF QUESTIONS ---

        // DOM Element References
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        
        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const optionsAreaEl = document.getElementById('options-area');
        
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const downloadBtn = document.getElementById('download-btn');
        
        const scoreTextEl = document.getElementById('score-text');
        const solutionsAreaEl = document.getElementById('solutions-area');

        // Quiz State
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let score = 0;

        // --- FUNCTIONS ---

        /**
         * Loads and displays a question by its index.
         */
        function loadQuestion(index) {
            const question = questions[index];
            
            questionNumberEl.textContent = `Question ${index + 1}/${questions.length}`;
            questionTextEl.textContent = question.question;
            
            // Clear previous options
            optionsAreaEl.innerHTML = '';
            
            // Create and append new options
            question.options.forEach((option, i) => {
                const optionId = `q${index}_option${i}`;
                
                // Create the radio input
                const radioInput = document.createElement('input');
                radioInput.type = 'radio';
                radioInput.id = optionId;
                radioInput.name = `question_${index}`;
                radioInput.value = option;
                
                // Check if this answer was previously selected
                if (userAnswers[index] === option) {
                    radioInput.checked = true;
                }
                
                // Add event listener to save answer on change
                radioInput.addEventListener('change', () => {
                    userAnswers[currentQuestionIndex] = option;
                });
                
                // Create the label
                const radioLabel = document.createElement('label');
                radioLabel.htmlFor = optionId;
                radioLabel.textContent = option;
                radioLabel.className = 'radio-label block';
                
                // Append both to the options area
                const optionWrapper = document.createElement('div');
                optionWrapper.appendChild(radioInput);
                optionWrapper.appendChild(radioLabel);
                optionsAreaEl.appendChild(optionWrapper);
            });
            
            // Update button visibility
            updateNavigation();
        }

        /**
         * Updates the visibility and state of navigation buttons.
         */
        function updateNavigation() {
            // Previous button
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // Next and Submit buttons
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }
        
        /**
         * Moves to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        }
        
        /**
         * Moves to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        }

        /**
         * Calculates score, shows results, and displays solutions.
         */
        function submitQuiz() {
            // Calculate score
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer === questions[index].answer) {
                    score++;
                }
            });
            
            // Display score
            scoreTextEl.textContent = `Your Score: ${score} / ${questions.length}`;
            
            // Clear previous solutions
            solutionsAreaEl.innerHTML = '';
            
            // Generate and display solutions
            questions.forEach((question, index) => {
                const solutionBlock = document.createElement('div');
                solutionBlock.className = 'p-4 rounded-lg';
                
                const userAnswer = userAnswers[index];
                const correctAnswer = question.answer;
                const isCorrect = userAnswer === correctAnswer;
                
                solutionBlock.classList.add(isCorrect ? 'solution-correct' : 'solution-incorrect');
                
                solutionBlock.innerHTML = `
                    <p class="font-semibold text-lg text-gray-100 mb-2">${index + 1}. ${question.question}</p>
                    <p class="text-gray-200"><strong>Your Answer:</strong> ${userAnswer || 'Not Answered'}</p>
                    ${!isCorrect ? `<p class="text-gray-200"><strong>Correct Answer:</strong> ${correctAnswer}</p>` : ''}
                `;
                
                solutionsAreaEl.appendChild(solutionBlock);
            });
            
            // Show results and hide quiz
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
        }

        /**
         * Generates a text file with the quiz results and triggers a download.
         */
        function downloadResults() {
            let content = `QUIZ RESULTS\n\n`;
            content += `Final Score: ${score} / ${questions.length}\n\n`;
            content += `-------------------------\n`;
            content += `DETAILED REVIEW\n`;
            content += `-------------------------\n\n`;

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const correctAnswer = question.answer;
                const isCorrect = userAnswer === correctAnswer;

                content += `Question ${index + 1}: ${question.question}\n`;
                content += `Your Answer: ${userAnswer || 'Not Answered'}\n`;
                if (!isCorrect) {
                    content += `Correct Answer: ${correctAnswer}\n`;
                }
                content += `Status: ${isCorrect ? 'Correct' : 'Incorrect'}\n\n`;
            });

            // Create a blob and trigger download
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'quiz-results.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(a.href);
        }

        /**
         * Resets the quiz to its initial state.
         */
        /*
        function restartQuiz() {
            // Reset state
            currentQuestionIndex = 0;
            userAnswers.fill(null);
            score = 0;
            
            // Show quiz and hide results
            resultsContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            
            // Load the first question
            loadQuestion(0);
        }
        */

        // --- EVENT LISTENERS ---
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        submitBtn.addEventListener('click', submitQuiz);
        downloadBtn.addEventListener('click', downloadResults);

        // --- INITIALIZATION ---
        // Load the first question when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion(currentQuestionIndex);
        });

    </script>
</body>
</html>
