<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUIZ</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font (Inter) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        /* Base styles */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
            color: #f3f4f6; /* text-gray-100 */
            display: grid;
            place-items: center;
            min-height: 100vh;
            padding: 1rem;
            /* Adding a subtle gradient background */
            background-image: radial-gradient(circle at 1% 1%, rgba(55, 65, 81, 0.4) 0%, rgba(17, 24, 39, 0) 25%),
                              radial-gradient(circle at 99% 99%, rgba(55, 48, 163, 0.3) 0%, rgba(17, 24, 39, 0) 25%);
        }

        /* Glassmorphism class */
        .glass {
            background: rgba(31, 41, 55, 0.6); /* bg-gray-800 with opacity */
            backdrop-filter: blur(12px) saturate(150%);
            -webkit-backdrop-filter: blur(12px) saturate(150%);
            border-radius: 1rem; /* rounded-2xl */
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }

        /* Custom styled radio button */
        .radio-label {
            background-color: rgba(55, 65, 81, 0.7); /* bg-gray-700 with opacity */
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 0.75rem; /* rounded-xl */
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .radio-label:hover {
            background-color: rgba(75, 85, 99, 0.8); /* bg-gray-600 with opacity */
        }
        
        /* Style for when radio is checked */
        input[type="radio"]:checked + .radio-label {
            background-color: rgba(59, 130, 246, 0.7); /* bg-blue-600 with opacity */
            border-color: rgba(59, 130, 246, 0.9);
            color: #ffffff;
            font-weight: 500;
        }

        /* Hide the actual radio button */
        input[type="radio"] {
            display: none;
        }
        
        /* Numerical Input Style */
        .numerical-input {
            background-color: rgba(55, 65, 81, 0.7); /* bg-gray-700 */
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #f3f4f6; /* text-gray-100 */
            border-radius: 0.75rem; /* rounded-xl */
            padding: 1rem;
            width: 100%;
            font-size: 1.125rem; /* text-lg */
            transition: all 0.3s ease;
        }
        .numerical-input:focus {
            outline: none;
            border-color: rgba(59, 130, 246, 0.9);
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.5);
        }

        /* Button styles */
        .btn {
            background: rgba(59, 130, 246, 0.7); /* bg-blue-600 with opacity */
            border: 1px solid rgba(59, 130, 246, 0.9);
            transition: all 0.3s ease;
        }
        .btn:hover {
            background: rgba(37, 99, 235, 0.8); /* bg-blue-700 with opacity */
        }
        .btn:disabled {
            background: rgba(75, 85, 99, 0.5); /* bg-gray-600 with opacity */
            border-color: rgba(75, 85, 99, 0.7);
            cursor: not-allowed;
        }
        
        .btn-secondary {
            background: rgba(75, 85, 99, 0.7); /* bg-gray-600 with opacity */
            border: 1px solid rgba(75, 85, 99, 0.9);
        }
        .btn-secondary:hover {
            background: rgba(55, 65, 81, 0.8); /* bg-gray-700 with opacity */
        }
        
        .btn-submit {
             background: rgba(22, 163, 74, 0.7); /* bg-green-600 with opacity */
            border: 1px solid rgba(22, 163, 74, 0.9);
        }
        .btn-submit:hover {
            background: rgba(21, 128, 61, 0.8); /* bg-green-700 with opacity */
        }
        
        /* Utility class to hide elements */
        .hidden {
            display: none;
        }
        
        /* Solution styles */
        .solution-correct {
            border-left: 4px solid #16a34a; /* border-green-600 */
            background-color: rgba(22, 163, 74, 0.1);
        }
        
        .solution-incorrect {
            border-left: 4px solid #dc2626; /* border-red-600 */
            background-color: rgba(220, 38, 38, 0.1);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Main App Container -->
    <div id="app" class="w-full max-w-2xl">
    
        <!-- Quiz Container -->
        <div id="quiz-container" class="glass w-full p-6 md:p-8 rounded-2xl">
            <h1 class="text-3xl font-bold text-center mb-6 text-white">QUIZ</h1>
            
            <!-- Question Area -->
            <div id="question-area" class="mb-6">
                <div class="text-xl md:text-2xl font-semibold text-gray-100 mb-2" id="question-number">Question 1/10</div>
                <p class="text-lg md:text-xl text-gray-200" id="question-text">Loading question...</p>
            </div>
            
            <!-- Options/Input Area -->
            <div id="options-area" class="space-y-4 mb-8">
                <!-- Content will be dynamically inserted here -->
            </div>
            
            <!-- Navigation Buttons -->
            <div class="flex justify-between items-center">
                <button id="prev-btn" class="btn-secondary text-white font-semibold py-2 px-5 rounded-lg">
                    Previous
                </button>
                <button id="next-btn" class="btn text-white font-semibold py-2 px-5 rounded-lg">
                    Next
                </button>
                <button id="submit-btn" class="btn-submit hidden text-white font-bold py-2 px-5 rounded-lg">
                    Submit
                </button>
            </div>
        </div>
        
        <!-- Results Container -->
        <div id="results-container" class="glass hidden w-full p-6 md:p-8 rounded-2xl">
            <h2 class="text-3xl font-bold text-center mb-4 text-white">Quiz Completed!</h2>
            <p id="score-text" class="text-2xl text-center font-semibold mb-6 text-blue-300">Your Score: 0 / 0</p>
            
            <h3 class="text-2xl font-semibold mb-4 text-white">Solutions Review</h3>
            <div id="solutions-area" class="space-y-6 max-h-96 overflow-y-auto pr-2">
                <!-- Solutions will be dynamically inserted here -->
            </div>
            
            <button id="download-btn" class="btn w-full mt-8 text-white font-bold py-3 px-5 rounded-lg">
                Download Results
            </button>
        </div>
        
    </div>

    <script>
        // --- EDIT YOUR QUESTIONS HERE ---
        const questions = [
            {
                type: 'mcq',
                question: "In which of the following scenarios is *no* work done on the object, according to the physics definition?",
                options: [
                    "A person holding a 20 kg box stationary above their head.",
                    "Pushing a box across a rough floor at a constant speed.",
                    "Lifting a box from the floor to a table.",
                    "A car braking to a stop."
                ],
                answer: "A person holding a 20 kg box stationary above their head.",
                solution: "Work requires a force *and* a displacement in the direction of the force (W = F x s). Since the box is stationary, its displacement (s) is zero, and therefore no work is done."
            },
            {
                type: 'mcq',
                question: "An object has a kinetic energy of KE. If its mass is doubled and its speed is halved, what will its new kinetic energy be?",
                options: [
                    "4 x KE",
                    "2 x KE",
                    "1/2 x KE",
                    "KE (it stays the same)"
                ],
                answer: "1/2 x KE",
                solution: "Original KE = (1/2)mv². New KE = (1/2)(2m)(v/2)² = (1/2)(2m)(v²/4) = (2/4) * (1/2)mv² = 1/2 * KE."
            },
            {
                type: 'mcq',
                question: "A 1000 kg car accelerates from 10 m/s to 20 m/s. What is the total network done on the car?",
                options: [
                    "100,000 J",
                    "200,000 J",
                    "150,000 J",
                    "300,000 J"
                ],
                answer: "150,000 J",
                solution: "By the Work-Energy Theorem, Work = ΔKE = KE_final - KE_initial. KE_initial = 1/2 * 1000 * (10)² = 50,000 J. KE_final = 1/2 * 1000 * (20)² = 200,000 J. Work = 200,000 J - 50,000 J = 150,000 J."
            },
            {
                type: 'mcq',
                question: "A 2 kg ball is at rest at the top of a 10 m high building. Ignoring air resistance, what is its kinetic energy just before it hits the ground? (Use g = 9.8 m/s^2)",
                options: [
                    "98 J",
                    "196 J",
                    "20 J",
                    "0 J"
                ],
                answer: "196 J",
                solution: "By the Law of Conservation of Energy, the initial Potential Energy (PE) is converted into final Kinetic Energy (KE). PE_initial = mgh = 2 kg * 9.8 m/s² * 10 m = 196 J. Therefore, KE_final = 196 J."
            },
            {
                type: 'mcq',
                question: "Two people lift identical 50 kg blocks to the same height of 2 m. Person A takes 5 seconds, while Person B takes 10 seconds. Which statement is true?",
                options: [
                    "Person A does more work than Person B.",
                    "Person B does more work than Person A.",
                    "Both people do the same work, but Person A has more power.",
                    "Both people do the same work and have the same power."
                ],
                answer: "Both people do the same work, but Person A has more power.",
                solution: "Work done is the same for both (Work = mgh), as mass, gravity, and height are identical. Power is Work / time. Since Person A takes less time (5s) than Person B (10s), Person A develops more power."
            },
            {
                type: 'mcq',
                question: "A force is applied to an object, and the force vs. displacement graph is a straight line from (0 m, 0 N) to (5 m, 20 N). What is the total work done?",
                options: [
                    "100 J",
                    "25 J",
                    "50 J",
                    "20 J"
                ],
                answer: "50 J",
                solution: "Work done is the area under the Force-Displacement graph. In this case, the area is a triangle. Area = 1/2 * base * height = 1/2 * 5 m * 20 N = 50 J."
            },
            {
                type: 'mcq',
                question: "Which of the following is the commercial unit of electrical energy?",
                options: [
                    "Watt (W)",
                    "Joule (J)",
                    "Kilowatt (kW)",
                    "Kilowatt-hour (kWh)"
                ],
                answer: "Kilowatt-hour (kWh)",
                solution: "A Kilowatt-hour (kWh) is the unit of energy used for electrical billing. It measures the energy consumed by using one kilowatt of power for one hour. Watts (W) and Kilowatts (kW) are units of *power*."
            },
            {
                type: 'numerical',
                question: "A 60 kg person runs up a flight of stairs with a vertical height of 5 meters in 8 seconds. Calculate the power developed by the person in Watts. (Use g = 10 m/s²)",
                answer: "375",
                solution: "Work done against gravity = mgh = 60 kg * 10 m/s² * 5 m = 3000 J. Power = Work / time = 3000 J / 8 s = 375 W."
            },
            {
                type: 'numerical',
                question: "A 5 kg object's velocity changes from 2 m/s to 6 m/s. What is the net work done on the object in Joules?",
                answer: "80",
                solution: "By the Work-Energy Theorem, Work = ΔKE = KE_final - KE_initial. KE_initial = 1/2 * m * u² = 1/2 * 5 * (2)² = 10 J. KE_final = 1/2 * m * v² = 1/2 * 5 * (6)² = 90 J. Work = 90 J - 10 J = 80 J."
            },
            {
                type: 'numerical',
                question: "An electric motor with a power rating of 2 kW (2000 W) is used to lift a 100 kg mass. What is the minimum time it will take to lift the mass to a height of 10 meters in seconds? (Use g = 9.8 m/s²)",
                answer: "4.9",
                solution: "The work required is the gain in potential energy: Work = mgh = 100 kg * 9.8 m/s² * 10 m = 9800 J. Power = Work / time, so time = Work / Power = 9800 J / 2000 W = 4.9 seconds."
            }
        ];
        // --- END OF QUESTIONS ---

        // DOM Element References
        const quizContainer = document.getElementById('quiz-container');
        const resultsContainer = document.getElementById('results-container');
        
        const questionNumberEl = document.getElementById('question-number');
        const questionTextEl = document.getElementById('question-text');
        const optionsAreaEl = document.getElementById('options-area');
        
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const downloadBtn = document.getElementById('download-btn');
        
        const scoreTextEl = document.getElementById('score-text');
        const solutionsAreaEl = document.getElementById('solutions-area');

        // Quiz State
        let currentQuestionIndex = 0;
        let userAnswers = new Array(questions.length).fill(null);
        let score = 0;

        // --- FUNCTIONS ---

        /**
         * Loads and displays a question by its index.
         */
        function loadQuestion(index) {
            const question = questions[index];
            
            questionNumberEl.textContent = `Question ${index + 1}/${questions.length}`;
            questionTextEl.textContent = question.question;
            
            // Clear previous options
            optionsAreaEl.innerHTML = '';

            if (question.type === 'mcq') {
                // Create and append radio buttons for MCQ
                question.options.forEach((option, i) => {
                    const optionId = `q${index}_option${i}`;
                    
                    const radioInput = document.createElement('input');
                    radioInput.type = 'radio';
                    radioInput.id = optionId;
                    radioInput.name = `question_${index}`;
                    radioInput.value = option;
                    
                    if (userAnswers[index] === option) {
                        radioInput.checked = true;
                    }
                    
                    radioInput.addEventListener('change', () => {
                        userAnswers[currentQuestionIndex] = option;
                    });
                    
                    const radioLabel = document.createElement('label');
                    radioLabel.htmlFor = optionId;
                    radioLabel.textContent = option;
                    radioLabel.className = 'radio-label block';
                    
                    const optionWrapper = document.createElement('div');
                    optionWrapper.appendChild(radioInput);
                    optionWrapper.appendChild(radioLabel);
                    optionsAreaEl.appendChild(optionWrapper);
                });
            } else if (question.type === 'numerical') {
                // Create and append an input field for numerical questions
                const numericalInput = document.createElement('input');
                numericalInput.type = 'number';
                numericalInput.id = `q${index}_input`;
                numericalInput.className = 'numerical-input';
                numericalInput.placeholder = 'Enter your answer...';
                
                if (userAnswers[index] !== null) {
                    numericalInput.value = userAnswers[index];
                }

                numericalInput.addEventListener('input', (e) => {
                    userAnswers[currentQuestionIndex] = e.target.value;
                });
                
                optionsAreaEl.appendChild(numericalInput);
            }
            
            // Update button visibility
            updateNavigation();
        }

        /**
         * Updates the visibility and state of navigation buttons.
         */
        function updateNavigation() {
            // Previous button
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // Next and Submit buttons
            if (currentQuestionIndex === questions.length - 1) {
                nextBtn.classList.add('hidden');
                submitBtn.classList.remove('hidden');
            } else {
                nextBtn.classList.remove('hidden');
                submitBtn.classList.add('hidden');
            }
        }
        
        /**
         * Moves to the next question.
         */
        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion(currentQuestionIndex);
            }
        }
        
        /**
         * Moves to the previous question.
         */
        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion(currentQuestionIndex);
            }
        }

        /**
         * Calculates score, shows results, and displays solutions.
         */
        function submitQuiz() {
            // Calculate score
            score = 0;
            userAnswers.forEach((answer, index) => {
                const question = questions[index];
                let isCorrect = false;

                if (question.type === 'mcq') {
                    if (answer === question.answer) {
                        isCorrect = true;
                    }
                } else if (question.type === 'numerical') {
                    // Use loose equality (==) to compare user's string/number input to the answer string
                    if (answer != null && answer.trim() == question.answer) {
                        isCorrect = true;
                    }
                }

                if (isCorrect) {
                    score++;
                }
            });
            
            // Display score
            scoreTextEl.textContent = `Your Score: ${score} / ${questions.length}`;
            
            // Clear previous solutions
            solutionsAreaEl.innerHTML = '';
            
            // Generate and display solutions
            questions.forEach((question, index) => {
                const solutionBlock = document.createElement('div');
                solutionBlock.className = 'p-4 rounded-lg';
                
                const userAnswer = userAnswers[index];
                const correctAnswer = question.answer;
                let isCorrect = false;

                if (question.type === 'mcq') {
                    isCorrect = userAnswer === correctAnswer;
                } else if (question.type === 'numerical') {
                    isCorrect = userAnswer != null && userAnswer.trim() == correctAnswer;
                }
                
                solutionBlock.classList.add(isCorrect ? 'solution-correct' : 'solution-incorrect');
                
                let answerReviewHTML = `
                    <p class="text-gray-200"><strong>Your Answer:</strong> ${userAnswer || 'Not Answered'}</p>
                    ${!isCorrect ? `<p class="text-gray-200"><strong>Correct Answer:</strong> ${correctAnswer}</p>` : ''}
                `;
                
                solutionBlock.innerHTML = `
                    <p class="font-semibold text-lg text-gray-100 mb-2">${index + 1}. ${question.question}</p>
                    ${answerReviewHTML}
                    <p class="text-gray-300 mt-2 pt-2 border-t border-gray-600"><strong>Explanation:</strong> ${question.solution}</p>
                `;
                
                solutionsAreaEl.appendChild(solutionBlock);
            });
            
            // Show results and hide quiz
            quizContainer.classList.add('hidden');
            resultsContainer.classList.remove('hidden');
        }

        /**
         * Generates a text file with the quiz results and triggers a download.
         */
        function downloadResults() {
            let content = `QUIZ RESULTS\n\n`;
            content += `Final Score: ${score} / ${questions.length}\n\n`;
            content += `-------------------------\n`;
            content += `DETAILED REVIEW\n`;
            content += `-------------------------\n\n`;

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const correctAnswer = question.answer;
                let isCorrect = false;

                if (question.type === 'mcq') {
                    isCorrect = userAnswer === correctAnswer;
                } else if (question.type === 'numerical') {
                    isCorrect = userAnswer != null && userAnswer.trim() == correctAnswer;
                }

                content += `Question ${index + 1}: ${question.question}\n`;
                content += `Status: ${isCorrect ? 'Correct' : 'Incorrect'}\n\n`;
            });

            // Create a blob and trigger download
            const blob = new Blob([content], { type: 'text/plain;charset=utf-8' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'quiz-results.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(a.href);
        }

        // --- EVENT LISTENERS ---
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        submitBtn.addEventListener('click', submitQuiz);
        downloadBtn.addEventListener('click', downloadResults);

        // --- INITIALIZATION ---
        // Load the first question when the DOM is fully loaded
        document.addEventListener('DOMContentLoaded', () => {
            loadQuestion(currentQuestionIndex);
        });

    </script>
</body>
</html>
